{{ define "main" }}
<article class="container mx-auto px-4 py-10 max-w-4xl" itemscope itemtype="http://schema.org/NewsArticle">

    <!-- 1. HEADER ARTIKEL -->
    <header class="mb-8 text-center">
        <!-- Kategori -->
        {{ if .Params.categories }}
        <div class="mb-4">
            <a href="{{ "/categories/" | relLangURL }}{{ index .Params.categories 0 | urlize }}" 
               class="inline-block bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider hover:bg-blue-200 transition">
                {{ index .Params.categories 0 }}
            </a>
        </div>
        {{ end }}

        <!-- Judul -->
        <h1 class="text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-4" itemprop="headline">
            {{ .Title }}
        </h1>

        <!-- Meta Data (Author & Date) -->
        <div class="flex items-center justify-center text-gray-500 text-sm space-x-4">
            <div class="flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                <span itemprop="author">{{ .Params.author | default "US News Desk" }}</span>
            </div>
            <span>&bull;</span>
            <div class="flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                <time itemprop="datePublished" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                    {{ .Date.Format "January 02, 2006" }}
                </time>
            </div>
        </div>
    </header>

    <!-- 2. FEATURED IMAGE -->
    {{ if .Params.featured_image }}
    <div class="mb-10 rounded-2xl overflow-hidden shadow-lg">
        <img src="{{ .Params.featured_image }}" 
             alt="{{ .Title }}" 
             class="w-full h-auto object-cover"
             itemprop="image">
    </div>
    {{ end }}

    <!-- 3. ISI KONTEN BERITA -->
    <!-- Class 'prose' memerlukan plugin Tailwind Typography, tapi kita pakai style manual agar aman -->
    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed space-y-6" itemprop="articleBody">
        {{ .Content }}
    </div>

    <!-- 4. TAGS -->
    {{ if .Params.tags }}
    <div class="mt-12 pt-6 border-t border-gray-200">
        <h3 class="text-sm font-bold text-gray-500 uppercase mb-3">Related Topics:</h3>
        <div class="flex flex-wrap gap-2">
            {{ range .Params.tags }}
            <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm px-3 py-1 rounded transition">
                #{{ . }}
            </a>
            {{ end }}
        </div>
    </div>
    {{ end }}

</article>
{{ end }}
